async function refreshData() {
    // Додаємо timestamp, щоб уникнути кешування браузером
    const res = await fetch('schedule.json?t=' + new Date().getTime());
    const data = await res.json();
    
    const group = document.getElementById('group-select').value;
    const hour = new Date().getHours();
    const status = data.groups[group][hour];

    // Оновлюємо інтерфейс
    const statusTitle = document.getElementById('status-title');
    if (status === 1) {
        statusTitle.innerText = "Світло є";
        statusTitle.style.color = "#4ade80";
    } else {
        statusTitle.innerText = "Відключення";
        statusTitle.style.color = "#f87171";
    }
    
    document.getElementById('status-desc').innerText = "Останнє оновлення: " + data.last_update;
}

// Запускати при завантаженні та виборі групи
setInterval(refreshData, 60000);
